(this["webpackJsonpchuck-jokes"]=this["webpackJsonpchuck-jokes"]||[]).push([[0],{23:function(e,t,a){e.exports=a(56)},28:function(e,t,a){},30:function(e,t,a){},48:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),o=a.n(c),l=(a(28),a(20)),i=a(4),s=a(6),m=a.n(s),u=a(9),d=a(1),f=a.n(d),v=function(e){var t=e.label,a=e.active,n=e.value,c=e.name,o=e.className,l=void 0===o?"mb-1":o,i=e.onChange;return r.a.createElement("div",{className:f()("custom-control custom-radio",l)},r.a.createElement("input",{className:"custom-control-input",type:"radio",name:c,id:n,value:n,checked:n===a,onChange:i}),r.a.createElement("label",{className:"custom-control-label fz-18 lh-26",htmlFor:n},t))},E=(a(30),function(e){var t=e.options,a=e.active,n=e.onChange;return r.a.createElement("div",{className:"btn-group d-flex flex-wrap mt-2 mb-3",role:"group"},t.map((function(e){var t=a===e;return r.a.createElement("button",{key:e,className:f()("btn-sm category-btn",{active:t}),type:"button",onClick:function(){return t?null:n(e)}},e)})))}),g=function(e){var t=e.placeholder,a=e.value,c=e.onChange,o=e.className,l=void 0===o?"mb-3 lh-22":o,i=Object(n.useRef)();return Object(n.useEffect)((function(){i.current.focus()}),[]),r.a.createElement("input",{className:f()("form-control",l),type:"text",placeholder:t,value:a,onChange:c,ref:i})},b=a(19),h=a.n(b).a.create({baseURL:"https://api.chucknorris.io/jokes"}),p=function(e){return h.get(e)},N=function(e){var t=e.onSubmit,a=e.className,c=void 0===a?"mb-4":a,o=Object(n.useState)("random"),l=Object(i.a)(o,2),s=l[0],d=l[1],b=Object(n.useState)(),p=Object(i.a)(b,2),N=p[0],x=p[1],j=Object(n.useState)(""),y=Object(i.a)(j,2),k=y[0],O=y[1],w=Object(n.useState)([]),C=Object(i.a)(w,2),S=C[0],F=C[1];Object(n.useEffect)((function(){!function(){var e=Object(u.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get("/categories");case 2:t=e.sent,a=t.data,x(a[0]),F(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);var z=function(){return"search"===s&&""===k.trim()||"category"===s&&!N},I=function(e){d(e.target.value),x(S[0]),O("")};return r.a.createElement("form",{className:f()("form pt-1",c),onSubmit:function(e){if(e.preventDefault(),!z()){var a={random:"/random",categories:"/random?category=".concat(N),search:"/search?query=".concat(k)};t(a[s])}}},r.a.createElement("div",{className:"form-group"},r.a.createElement(v,{label:"Random",name:"joke",value:"random",active:s,onChange:I}),r.a.createElement(v,{label:"From categories",name:"joke",value:"categories",active:s,onChange:I}),"categories"===s&&S.length?r.a.createElement(E,{options:S,active:N,onChange:function(e){return x(e)}}):null,r.a.createElement(v,{label:"Search",name:"joke",value:"search",active:s,onChange:I}),"search"===s&&r.a.createElement(g,{value:k,onChange:function(e){return O(e.target.value)},placeholder:"Free text search"})),r.a.createElement("button",{className:"btn btn-lg btn-primary btn-gradient fw-700 lh-22",type:"submit",disabled:z()},"Get a joke"))},x=(a(48),a(3)),j=a.n(x),y=a(58),k=(a(51),function(e){var t=e.animationType,a=e.children,n=e.show,c=e.timeout,o=e.onEnter,l=e.onEntering,i=e.onEntered,s=e.onExit,m=e.onExiting,u=e.onExited;return r.a.createElement(y.a,{in:n,timeout:c,classNames:t,unmountOnExit:!0,onEnter:o,onEntering:l,onEntered:i,onExit:s,onExiting:m,onExited:u},a)});k.T={animationType:j.a.string,children:j.a.node.required,onEnter:j.a.func,onEntering:j.a.func,onEntered:j.a.func,onExit:j.a.func,onExiting:j.a.func,onExited:j.a.func,show:j.a.bool.required,timeout:j.a.number},k.defaultProps={show:!1,timeout:300,animationType:"fadeIn"};var O=k,w=function(e){var t=e.isOpen,a=e.onClose,n=e.children,o=e.className;return Object(c.createPortal)(r.a.createElement(O,{show:t},r.a.createElement("div",{className:f()("modal",o)},r.a.createElement("div",{className:"modal-backdrop",onClick:function(){return a(!1)}}),r.a.createElement("div",{className:"modal-content bg-light"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 layout-offset"},n)))))),document.getElementById("modal-root"))},C=(a(52),function(e){var t=e.onClick,a=e.active,n=void 0!==a&&a,c=e.className;return r.a.createElement("div",{className:f()("toggle-modal d-flex",{active:n},c),onClick:function(){return t(!n)}},r.a.createElement("div",{className:"menu-icon"}),r.a.createElement("span",{className:"ml-2 text-muted lh-28 fz-20 fw-700"},"Favourite"))}),S=function(e){var t=e.toggleModalOpen,a=e.isModalOpen,n=e.className,c=void 0===n?"mb-4":n;return r.a.createElement("header",{className:f()("pb-2",c)},r.a.createElement("nav",{className:"navbar pt-0"},r.a.createElement("h1",{className:"navbar-brand lh-28 fw-700 p-0"},"MSI 2020"),r.a.createElement(C,{onClick:t,active:a,className:"d-xl-none"})),r.a.createElement("h2",{className:"fz-32 lh-44 fw-700"},"Hey!"),r.a.createElement("h4",{className:"fw-500 fz-24 lh-44"},"Let's try to find a joke for you"))},F=a(21),z=(a(53),function(e){var t=e.src,a=e.className;return r.a.createElement("div",{className:f()("avatar",a)},t?r.a.createElement("img",{className:"avatar-img",src:t,alt:"joke icon",draggable:"false"}):r.a.createElement("span",{className:"avatar-empty icon-message text-muted"}))}),I=(a(54),function(e){var t=e.joke,a=e.inFavouriteList,n=e.isFavourite,c=e.onFavouriteChange,o=e.className,l=void 0===o?"mb-3":o,i=t.id,s=t.value,m=t.updated_at,u=t.categories,d=t.url,v=t.icon_url;return r.a.createElement("div",{className:f()("border-0 p-2",l)},r.a.createElement("div",{className:"card-header bg-transparent text-right border-0 pb-0"},r.a.createElement("span",{className:"icon-heart".concat(n?"-fill":""," text-danger cursor-pointer"),onClick:function(){return c(t)},tabIndex:"0"})),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"d-flex flex-grow-1"},r.a.createElement("div",{className:"flex-shrink-0 mr-3"},r.a.createElement(z,{src:v})),r.a.createElement("div",{className:"flex-grow-1"},r.a.createElement("div",{className:"card-title mb-1 fz-10 lh-14 fw-500"},r.a.createElement("span",{className:"text-muted"},"ID: "),r.a.createElement("a",{href:d,rel:"noopener noreferrer nofollow",target:"_blank"},i," ",r.a.createElement("span",{className:"icon-link text-primary ml-1"}))),r.a.createElement("p",{className:"card-text text-break ".concat(a?"fz-14 lh-20":"fz-18")},s),r.a.createElement("div",{className:"d-md-flex justify-content-between align-items-center"},r.a.createElement("p",{className:"text-muted fz-10 lh-14 mb-2 m-md-0"},"Last update: ",function(e){var t=Date.now(),a=new Date(e).getTime();return Math.floor((t-a)/1e3/3600)}(m)," hours ago"),!!u.length&&u.map((function(e){return r.a.createElement("div",{key:e,className:"btn-sm fz-10 lh-14 d-inline-block m-0 card-category ".concat(a?"gray":"light")},e)})))))))}),L=function(e){var t=e.type,a=void 0===t?"info":t,n=e.text;return r.a.createElement("div",{className:"text-center alert alert-".concat(a),role:"alert"},n)},D=(a(55),function(){return r.a.createElement("div",{className:"loading-spiner"},r.a.createElement("div",{className:"loading"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}),M=function(e){var t=e.favourites,a=e.apiRequestData,n=Object(F.a)(e,["favourites","apiRequestData"]),c=a.data,o=a.isLoading,l=a.isError,i=!o&&void 0===c,s=!o&&l,m=!o&&!l&&!!(null===c||void 0===c?void 0:c.result.length),u=!o&&!l&&!i&&!(null===c||void 0===c?void 0:c.result.length);return r.a.createElement("div",{className:"card-wrapper"},i&&r.a.createElement(L,{text:"Click on the button above for getting a joke"}),o&&r.a.createElement(D,null),m&&c.result.map((function(e){return r.a.createElement(I,Object.assign({key:e.id},n,{joke:e,isFavourite:t.some((function(t){return t.id===e.id})),className:"main-card rounded-lg mb-3 p-md-4"}))})),u&&r.a.createElement(L,{type:"secondary",text:"No jokes"}),s&&r.a.createElement(L,{type:"danger",text:"Something go wrong!"}))},q=function(e){var t=e.favourites,a=e.onFavouriteChange;return r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement(I,{key:e.id,joke:e,isFavourite:!0,inFavouriteList:!0,onFavouriteChange:a,className:"modal-card rounded-sm mb-3"})})))},R=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)([]),s=Object(i.a)(o,2),d=s[0],f=s[1],v=function(){var e=Object(n.useState)(),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),o=Object(i.a)(c,2),l=o[0],s=o[1],d=Object(n.useState)(!1),f=Object(i.a)(d,2),v=f[0],E=f[1];function g(){return(g=Object(u.a)(m.a.mark((function e(t){var a,n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!1),E(!0),e.prev=2,e.next=5,p(t);case 5:a=e.sent,n=a.data,c={total:0,result:[]},"object"===typeof n&&(c=n.hasOwnProperty("total")?n:{total:1,result:[n]}),r(c),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),s(!0);case 15:E(!1);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}return[{isLoading:v,data:a,isError:l},function(e){return g.apply(this,arguments)}]}(),E=Object(i.a)(v,2),g=E[0],b=E[1];Object(n.useEffect)((function(){f(function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):[]}("favourites"))}),[]),Object(n.useEffect)((function(){localStorage.setItem("favourites",JSON.stringify(d))}),[d]),Object(n.useEffect)((function(){var e;e=a?"add":"remove",document.body.classList[e]("no-scroll")}),[a]);var h=function(e){var t;t=d.some((function(t){return t.id===e.id}))?d.filter((function(t){return t.id!==e.id})):[].concat(Object(l.a)(d),[e]),f(t)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-xl h-100"},r.a.createElement("div",{className:"row h-100"},r.a.createElement("div",{className:"col-12 col-xl-7 layout-offset"},r.a.createElement(S,{toggleModalOpen:c,isModalOpen:a}),r.a.createElement(N,{onSubmit:function(e){return b(e)}}),r.a.createElement(M,{favourites:d,apiRequestData:g,onFavouriteChange:h})),r.a.createElement("div",{className:"d-none d-xl-flex col-xl-5 layout-offset flex-column bg-light"},r.a.createElement("h5",{className:"fw-500 fz-20 lh-28 mb-3 text-secondary"},"Favourite"),r.a.createElement(q,{favourites:d,onFavouriteChange:h})))),r.a.createElement(w,{isOpen:a,onClose:c,className:"d-xl-none"},r.a.createElement(q,{favourites:d,onFavouriteChange:h})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.0c420b82.chunk.js.map